[core]
	excludesfile = ~/.gitignore_global

[user]
	name = Masafumi Koba
	email = ybiquitous@gmail.com

# Inspired by
# - https://github.com/GitAlias/gitalias
# - http://gggritso.com/human-git-aliases
[alias]

	# Shortcut (most frequent commands)
	b = branch
	c = commit
	d = diff
	g = grep
	l = log
	ls = ls-files
	s = status

	# Branch
	branch-name = rev-parse --abbrev-ref HEAD
	delete-branch = branch -D
	master = checkout master
	new-branch = checkout -b
	rename-branch = branch --move
	switch-branch = checkout

	# Info
	detail = show --pretty=full
	graph = log --graph
	oneline = log --oneline
	precommit = diff --staged
	recent = log -10
	summary = status --short --untracked-files

	# Grep
	grep-group = grep --line-number --heading --break
	grep-word = grep --word-regexp

	# Config
	edit-config = config --edit
	edit-config-global = edit-config --global
	list-config = config --list
	list-config-global = list-config --global

	# Undo
	amend = commit --amend
	discard = checkout --
	fixup = commit --fixup
	rewrite = rebase --interactive
	uncommit = reset --soft HEAD~1
	unstage = reset HEAD
	unstash = stash pop

	# Push
	publish = !"git push --set-upstream origin $(git branch-name)"

	# Clean
	cleanest = clean --force -dx
	prune-all = !"git remote | xargs -n 1 git remote prune"

	# Sync fork
	sync-fork = !"git checkout master && git fetch upstream && git merge upstream/master"

	# Plural
	aliases = "!git config --get-regexp '^alias\\.' | cut -c 7- | sed 's/ / = /'"
	branches = branch --all
	contributors = shortlog --summary --numbered --no-merges
	remotes = remote --verbose
	stashes = stash list
	tags = tag

[format]
	pretty = format:%C(auto)%h %Creset%<(72,trunc)%s %Cgreen%<(16,trunc)%aN%Creset %ar%C(auto)%d

[color]
	ui = auto

[pager]
	diff = diff-highlight | less
	show = diff-highlight | less
	log = diff-highlight | less

[commit]
	verbose = true

[diff]
	compactionHeuristic = true
	indentHeuristic = true
	algorithm = patience

[rebase]
	autosquash = true
